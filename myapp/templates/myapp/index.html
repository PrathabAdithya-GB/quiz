{% extends 'myapp/base.html' %}

{% block title %}quizinomad - Smart Online Quiz Platform{% endblock %}

{% block content %}

<section class="hero-section mb-5">
  <div class="row align-items-center">
    <div class="col-md-7">
      <h1 class="hero-title">Elevate Your Knowledge with <span>quizinomad</span></h1>
      <p class="hero-subtitle">
        Take curated quizzes across multiple domains and track your progress, all in one modern, responsive platform.
      </p>
      <div class="hero-actions">
        <a href="{% url 'myapp:quiz_list' %}" class="btn btn-primary btn-lg me-2">
          Explore Quizzes
        </a>
      </div>
      <p class="mt-3 text-muted small">
        Login with your email to start attempting quizzes and see how you rank among other learners.
      </p>
    </div>
    <div class="col-md-5 d-none d-md-block">
      <div class="hero-card shadow-lg">
        <h5 class="mb-3">Platform Highlights</h5>
        <ul class="list-unstyled mb-0">
          <li>✔ Timer-based quizzes with instant scoring</li>
          <li>✔ Topic-wise and general knowledge tests</li>
          <li>✔ Real-time leaderboard and user stats</li>
          <li>✔ Clean, mobile-friendly interface</li>
        </ul>
      </div>
    </div>
  </div>
</section>


<section class="stats-section mb-5">
  <div class="row text-center">
    <div class="col-md-4 mb-3">
      <div class="stat-card shadow-sm">
        <h2>{{ total_quizzes }}</h2>
        <p>Published Quizzes</p>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="stat-card shadow-sm">
        <h2>{{ total_questions }}</h2>
        <p>Questions Available</p>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="stat-card shadow-sm">
        <h2>{{ total_attempts }}</h2>
        <p>Quiz Attempts</p>
      </div>
    </div>
  </div>
</section>

<section class="latest-quizzes mb-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="section-title">Latest Quizzes</h3>
    <a href="{% url 'myapp:quiz_list' %}" class="btn btn-sm btn-outline-primary">
      View All
    </a>
  </div>

  <div class="row">
    {% for quiz in latest_quizzes %}
      <div class="col-md-4 mb-4">
        <div class="card quiz-card h-100">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ quiz.title }}</h5>
            <p class="card-text flex-grow-1">
              {{ quiz.description|default:"No description provided."|truncatechars:120 }}
            </p>
            <div class="d-flex justify-content-between align-items-center mt-3">
              <span class="badge bg-secondary">
                {{ quiz.time_limit }} min
              </span>
              <a href="{% url 'myapp:quiz_detail' quiz.pk %}" class="btn btn-sm btn-primary">
                View Quiz
              </a>
            </div>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12">
        <div class="alert alert-info">
          No quizzes are published yet. Please login as admin and create a quiz.
        </div>
      </div>
    {% endfor %}
  </div>
</section>

<section class="cta-section text-center py-4 mb-3">
  <h4 class="mb-2">Ready to challenge yourself?</h4>
  <p class="mb-3">
    Sign in with your email, pick a quiz, and see how you perform against others on quizinomad.
  </p>
  {% if user.is_authenticated %}
    <a href="{% url 'myapp:quiz_list' %}" class="btn btn-success">
      Start a Quiz Now
    </a>
  {% else %}
    <a href="{% url 'login' %}" class="btn btn-success">
      Login to Get Started
    </a>
  {% endif %}
</section>

{% endblock %}
